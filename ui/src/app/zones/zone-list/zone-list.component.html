<div class="p-2">
  <h2 class="page-title inline-block large-title">
    <span>{{ 'zones.title' | translate }}</span>
    <!-- help button -->
    <button #helpButton type="button" class="close help-btn" aria-label="Help" (click)="onClickToHelp('vmb_120')">
      <clr-icon aria-hidden="true" shape="help" size="18"></clr-icon>
    </button>
  </h2>
  <div class="list-container">
    <clr-datagrid [clrDgLoading]="loading">
      <clr-dg-action-bar>
        <div class="btn-group">
          <a [routerLink]="['new']" *concordCanView="[personas.SystemsAdmin, personas.ConsortiumAdmin]"
            class="btn btn-primary-outline" id="newZone">
            {{ 'zones.actions.new' | translate }}
          </a>
          <button (click)="uploadZone()" [clrLoading]="uploading" class="btn btn-primary-outline" id="newZone">
            {{ 'zones.actions.upload' | translate }}
          </button>
          <input type="file" #fileUpload id="fileUpload" name="fileUpload" accept="application/JSON" style="display:none;" />
        </div>
      </clr-dg-action-bar>
      <clr-dg-column>{{'zones.columns.name' | translate}}</clr-dg-column>
      <clr-dg-column>{{'zones.columns.type' | translate}}</clr-dg-column>
      <clr-dg-row *clrDgItems="let zone of zones">
        <clr-dg-action-overflow>
          <button clrPopoverCloseButton class="action-item" (click)="editZone(zone)" [disabled]="zone.type === 'VMC_AWS'">
            {{'common.edit' | translate}}
          </button>
        </clr-dg-action-overflow>
        <clr-dg-cell>
          <ng-container *ngIf="zone.type === zoneType.ON_PREM">
            <a id="zoneListEntry" [routerLink]="[ zone.id ]">{{zone.name}}</a>
          </ng-container>
          <ng-container *ngIf="zone.type === zoneType.VMC_AWS">
            {{zone.name}}
          </ng-container>
        </clr-dg-cell>
        <clr-dg-cell>
          {{zone.type}}
        </clr-dg-cell>
      </clr-dg-row>
      <clr-dg-footer>
        <clr-dg-pagination #pagination [clrDgPageSize]="10">
          {{'zones.paginationSummary' | translate: { start: pagination.firstItem + 1, finish: pagination.lastItem + 1,
          total: pagination.totalItems} }}
        </clr-dg-pagination>
      </clr-dg-footer>
    </clr-datagrid>
  </div>
</div>
<concord-confirm-modal #confirm></concord-confirm-modal>
